import React from 'react';
import { Card, CardContent } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Trash2, Pencil, ChevronDown, ChevronUp } from 'lucide-react';
import { motion, AnimatePresence } from 'framer-motion';
import { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible';

export default function RecordsList({ records, onDelete, onEdit }) {
  const [isOpen, setIsOpen] = React.useState(false);

  return (
    <Card className="border-2 border-indigo-200 shadow-lg bg-gradient-to-br from-indigo-50 via-white to-blue-50">
      <Collapsible open={isOpen} onOpenChange={setIsOpen}>
        <CollapsibleTrigger asChild>
          <CardContent className="p-4 cursor-pointer hover:bg-indigo-50/50 transition-colors">
            <div className="flex justify-between items-center">
              <div className="flex items-center gap-2">
                <span className="text-base font-bold text-gray-800">Pending Records ({records.length}/16)</span>
                {records.length >= 8 && records.length <= 16 && (
                  <Badge className="bg-green-500 text-xs px-2 py-1 font-bold shadow-md">âœ“ Ready</Badge>
                )}
                {records.length < 8 && records.length > 0 && (
                  <Badge variant="secondary" className="text-xs px-2 py-1 font-bold bg-orange-100 text-orange-700">Need {8 - records.length} more</Badge>
                )}
                {records.length > 16 && (
                  <Badge className="bg-red-500 text-xs px-2 py-1 font-bold shadow-md">Over {records.length - 16}</Badge>
                )}
              </div>
              {isOpen ? <ChevronUp className="w-5 h-5 text-gray-600" /> : <ChevronDown className="w-5 h-5 text-gray-600" />}
            </div>
          </CardContent>
        </CollapsibleTrigger>

        <CollapsibleContent>
          <CardContent className="pt-0 pb-4 px-4">
 